{"ast":null,"code":"import { filterMusic } from \"../Actions\";\nimport initialMusic from \"../Components/AllMusic\";\n\nconst songReducer = (state = initialMusic, action) => {\n  let prevSongs = {\n    allMusic: []\n  };\n\n  switch (action.type) {\n    case 'ADDMUSIC':\n      return {\n        allMusic: [...state.allMusic].concat(action.payload)\n      };\n\n    case 'DELETEMUSIC':\n      const filteredSongs = state.allMusic.filter((item, index) => index !== action.payload);\n      return {\n        allMusic: filteredSongs\n      };\n\n    case 'SORTMUSIC':\n      let sortedSongs = state.allMusic.sort((item1, item2) => {\n        if (item1[action.payload.fieldName].toLowerCase() > item2[action.payload.fieldName].toLowerCase()) {\n          return 1;\n        }\n\n        if (item1.song < item2.song) {\n          return -1;\n        } else return 0;\n      });\n      action.payload.reverse && sortedSongs.reverse();\n      return {\n        allMusic: sortedSongs\n      };\n\n    case 'FILTERMUSIC':\n      if (prevSongs.allMusic.length === 0) {\n        prevSongs = state;\n      }\n\n      let filterTempSongs = [...prevSongs.allMusic];\n      const filterMusic = filterTempSongs.filter(item => {\n        if (action.payload.genre && action.payload.rating) {\n          return item.genre === action.payload.genre && item.rating === action.payload.rating;\n        }\n\n        if (action.payload.genre && !action.payload.rating) {\n          return item.genre === action.payload.genre;\n        }\n\n        if (!action.payload.genre && action.payload.rating) {\n          return item.rating === action.payload.rating;\n        }\n\n        return item;\n      });\n      return {\n        allMusic: filterMusic\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;","map":{"version":3,"sources":["C:/Users/ralf2/Desktop/Winc_Academy/Eindopdrachten/4_react_lil_playlist/lil_playlist/src/Reducers/songReducer.js"],"names":["filterMusic","initialMusic","songReducer","state","action","prevSongs","allMusic","type","concat","payload","filteredSongs","filter","item","index","sortedSongs","sort","item1","item2","fieldName","toLowerCase","song","reverse","length","filterTempSongs","genre","rating"],"mappings":"AAAA,SAASA,WAAT,QAA4B,YAA5B;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAACF,YAAP,EAAqBG,MAArB,KAAgC;AAChD,MAAIC,SAAS,GAAG;AAACC,IAAAA,QAAQ,EAAE;AAAX,GAAhB;;AACA,UAAOF,MAAM,CAACG,IAAd;AACI,SAAK,UAAL;AACI,aAAO;AAACD,QAAAA,QAAQ,EAAE,CAAC,GAAGH,KAAK,CAACG,QAAV,EAAoBE,MAApB,CAA2BJ,MAAM,CAACK,OAAlC;AAAX,OAAP;;AACJ,SAAK,aAAL;AACI,YAAMC,aAAa,GAAGP,KAAK,CAACG,QAAN,CAAeK,MAAf,CAAsB,CAACC,IAAD,EAAOC,KAAP,KAAiBA,KAAK,KAAKT,MAAM,CAACK,OAAxD,CAAtB;AACA,aAAO;AAACH,QAAAA,QAAQ,EAAEI;AAAX,OAAP;;AACJ,SAAK,WAAL;AACI,UAAII,WAAW,GAAGX,KAAK,CAACG,QAAN,CAAeS,IAAf,CAAoB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxD,YAAID,KAAK,CAACZ,MAAM,CAACK,OAAP,CAAeS,SAAhB,CAAL,CAAgCC,WAAhC,KAA8CF,KAAK,CAACb,MAAM,CAACK,OAAP,CAAeS,SAAhB,CAAL,CAAgCC,WAAhC,EAAlD,EAAgG;AAC5F,iBAAO,CAAP;AACH;;AACD,YAAIH,KAAK,CAACI,IAAN,GAAWH,KAAK,CAACG,IAArB,EAA0B;AACtB,iBAAO,CAAC,CAAR;AACH,SAFD,MAGK,OAAO,CAAP;AACJ,OARiB,CAAlB;AASAhB,MAAAA,MAAM,CAACK,OAAP,CAAeY,OAAf,IAA0BP,WAAW,CAACO,OAAZ,EAA1B;AACA,aAAO;AAACf,QAAAA,QAAQ,EAAEQ;AAAX,OAAP;;AACJ,SAAK,aAAL;AACI,UAAIT,SAAS,CAACC,QAAV,CAAmBgB,MAAnB,KAA8B,CAAlC,EAAoC;AAChCjB,QAAAA,SAAS,GAAGF,KAAZ;AACH;;AACD,UAAIoB,eAAe,GAAG,CAAC,GAAGlB,SAAS,CAACC,QAAd,CAAtB;AACA,YAAMN,WAAW,GAAGuB,eAAe,CAACZ,MAAhB,CAAuBC,IAAI,IAAI;AAC/C,YAAIR,MAAM,CAACK,OAAP,CAAee,KAAf,IAAwBpB,MAAM,CAACK,OAAP,CAAegB,MAA3C,EAAkD;AAC9C,iBAAOb,IAAI,CAACY,KAAL,KAAepB,MAAM,CAACK,OAAP,CAAee,KAA9B,IAAuCZ,IAAI,CAACa,MAAL,KAAgBrB,MAAM,CAACK,OAAP,CAAegB,MAA7E;AACH;;AACD,YAAIrB,MAAM,CAACK,OAAP,CAAee,KAAf,IAAwB,CAACpB,MAAM,CAACK,OAAP,CAAegB,MAA5C,EAAmD;AAC/C,iBAAOb,IAAI,CAACY,KAAL,KAAepB,MAAM,CAACK,OAAP,CAAee,KAArC;AACH;;AACD,YAAI,CAACpB,MAAM,CAACK,OAAP,CAAee,KAAhB,IAAyBpB,MAAM,CAACK,OAAP,CAAegB,MAA5C,EAAmD;AAC/C,iBAAOb,IAAI,CAACa,MAAL,KAAgBrB,MAAM,CAACK,OAAP,CAAegB,MAAtC;AACH;;AACD,eAAOb,IAAP;AACH,OAXmB,CAApB;AAYA,aAAO;AAACN,QAAAA,QAAQ,EAAEN;AAAX,OAAP;;AACJ;AAAS,aAAOG,KAAP;AApCb;AAsCH,CAxCD;;AA0CA,eAAeD,WAAf","sourcesContent":["import { filterMusic } from \"../Actions\"\r\nimport initialMusic from \"../Components/AllMusic\"\r\n\r\nconst songReducer = (state=initialMusic, action) => {\r\n    let prevSongs = {allMusic: []}\r\n    switch(action.type){\r\n        case 'ADDMUSIC':\r\n            return {allMusic: [...state.allMusic].concat(action.payload)}\r\n        case 'DELETEMUSIC':\r\n            const filteredSongs = state.allMusic.filter((item, index) => index !== action.payload)\r\n            return {allMusic: filteredSongs}\r\n        case 'SORTMUSIC':\r\n            let sortedSongs = state.allMusic.sort((item1, item2) => {\r\n            if (item1[action.payload.fieldName].toLowerCase()>item2[action.payload.fieldName].toLowerCase()){\r\n                return 1\r\n            }\r\n            if (item1.song<item2.song){\r\n                return -1\r\n            }\r\n            else return 0\r\n            })\r\n            action.payload.reverse && sortedSongs.reverse()\r\n            return {allMusic: sortedSongs}\r\n        case 'FILTERMUSIC':\r\n            if (prevSongs.allMusic.length === 0){\r\n                prevSongs = state\r\n            }\r\n            let filterTempSongs = [...prevSongs.allMusic]\r\n            const filterMusic = filterTempSongs.filter(item => {\r\n                if (action.payload.genre && action.payload.rating){\r\n                    return item.genre === action.payload.genre && item.rating === action.payload.rating\r\n                }\r\n                if (action.payload.genre && !action.payload.rating){\r\n                    return item.genre === action.payload.genre\r\n                }\r\n                if (!action.payload.genre && action.payload.rating){\r\n                    return item.rating === action.payload.rating\r\n                }\r\n                return item\r\n            })\r\n            return {allMusic: filterMusic}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default songReducer;"]},"metadata":{},"sourceType":"module"}