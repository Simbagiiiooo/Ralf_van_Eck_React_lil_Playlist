{"ast":null,"code":"// import { filterMusic } from \"../Actions\"\nimport allMusic from \"../Components/AllMusic\";\n\nconst songReducer = (state = allMusic, action) => {\n  let prevSongs = {\n    allMusic: []\n  };\n\n  switch (action.type) {\n    case 'ADDMUSIC':\n      return {\n        allMusic: [...state.allMusic].concat(action.payload)\n      };\n\n    case 'DELETEMUSIC':\n      const filteredSongs = state.allMusic.filter((item, index) => index !== action.payload);\n      return {\n        allMusic: filteredSongs\n      };\n\n    case 'SORTMUSIC':\n      let sortedSongs = state.allMusic.sort((item1, item2) => {\n        if (item1[action.payload.fieldName].toLowerCase() > item2[action.payload.fieldName].toLowerCase()) {\n          return 1;\n        }\n\n        if (item1.song < item2.song) {\n          return -1;\n        } else return 0;\n      });\n      action.payload.reverse && sortedSongs.reverse();\n      return {\n        allMusic: sortedSongs\n      };\n\n    case 'FILTERMUSIC':\n      if (prevSongs.allMusic.length === 0) {\n        prevSongs = state;\n      }\n\n      let filterTempSongs = [...prevSongs.allMusic];\n      const filterMusic = filterTempSongs.filter(item => {\n        if (action.payload.genre && action.payload.rating) {\n          return item.genre === action.payload.genre && item.rating === action.payload.rating;\n        }\n\n        if (action.payload.genre && !action.payload.rating) {\n          return item.genre === action.payload.genre;\n        }\n\n        if (!action.payload.genre && action.payload.rating) {\n          return item.rating === action.payload.rating;\n        }\n\n        return item;\n      });\n      return {\n        allMusic: filterMusic\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;","map":{"version":3,"sources":["C:/Users/ralf2/Desktop/Winc_Academy/Eindopdrachten/4_react_lil_playlist/lil_playlist/src/Reducers/songReducer.js"],"names":["allMusic","songReducer","state","action","prevSongs","type","concat","payload","filteredSongs","filter","item","index","sortedSongs","sort","item1","item2","fieldName","toLowerCase","song","reverse","length","filterTempSongs","filterMusic","genre","rating"],"mappings":"AAAA;AACA,OAAOA,QAAP,MAAqB,wBAArB;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAACF,QAAP,EAAiBG,MAAjB,KAA4B;AAC5C,MAAIC,SAAS,GAAG;AAACJ,IAAAA,QAAQ,EAAE;AAAX,GAAhB;;AACA,UAAOG,MAAM,CAACE,IAAd;AACI,SAAK,UAAL;AACI,aAAO;AAACL,QAAAA,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAV,EAAoBM,MAApB,CAA2BH,MAAM,CAACI,OAAlC;AAAX,OAAP;;AACJ,SAAK,aAAL;AACI,YAAMC,aAAa,GAAGN,KAAK,CAACF,QAAN,CAAeS,MAAf,CAAsB,CAACC,IAAD,EAAOC,KAAP,KAAiBA,KAAK,KAAKR,MAAM,CAACI,OAAxD,CAAtB;AACA,aAAO;AAACP,QAAAA,QAAQ,EAAEQ;AAAX,OAAP;;AACJ,SAAK,WAAL;AACI,UAAII,WAAW,GAAGV,KAAK,CAACF,QAAN,CAAea,IAAf,CAAoB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxD,YAAID,KAAK,CAACX,MAAM,CAACI,OAAP,CAAeS,SAAhB,CAAL,CAAgCC,WAAhC,KAA8CF,KAAK,CAACZ,MAAM,CAACI,OAAP,CAAeS,SAAhB,CAAL,CAAgCC,WAAhC,EAAlD,EAAgG;AAC5F,iBAAO,CAAP;AACH;;AACD,YAAIH,KAAK,CAACI,IAAN,GAAWH,KAAK,CAACG,IAArB,EAA0B;AACtB,iBAAO,CAAC,CAAR;AACH,SAFD,MAGK,OAAO,CAAP;AACJ,OARiB,CAAlB;AASAf,MAAAA,MAAM,CAACI,OAAP,CAAeY,OAAf,IAA0BP,WAAW,CAACO,OAAZ,EAA1B;AACA,aAAO;AAACnB,QAAAA,QAAQ,EAAEY;AAAX,OAAP;;AACJ,SAAK,aAAL;AACI,UAAIR,SAAS,CAACJ,QAAV,CAAmBoB,MAAnB,KAA8B,CAAlC,EAAoC;AAChChB,QAAAA,SAAS,GAAGF,KAAZ;AACH;;AACD,UAAImB,eAAe,GAAG,CAAC,GAAGjB,SAAS,CAACJ,QAAd,CAAtB;AACA,YAAMsB,WAAW,GAAGD,eAAe,CAACZ,MAAhB,CAAuBC,IAAI,IAAI;AAC/C,YAAIP,MAAM,CAACI,OAAP,CAAegB,KAAf,IAAwBpB,MAAM,CAACI,OAAP,CAAeiB,MAA3C,EAAkD;AAC9C,iBAAOd,IAAI,CAACa,KAAL,KAAepB,MAAM,CAACI,OAAP,CAAegB,KAA9B,IAAuCb,IAAI,CAACc,MAAL,KAAgBrB,MAAM,CAACI,OAAP,CAAeiB,MAA7E;AACH;;AACD,YAAIrB,MAAM,CAACI,OAAP,CAAegB,KAAf,IAAwB,CAACpB,MAAM,CAACI,OAAP,CAAeiB,MAA5C,EAAmD;AAC/C,iBAAOd,IAAI,CAACa,KAAL,KAAepB,MAAM,CAACI,OAAP,CAAegB,KAArC;AACH;;AACD,YAAI,CAACpB,MAAM,CAACI,OAAP,CAAegB,KAAhB,IAAyBpB,MAAM,CAACI,OAAP,CAAeiB,MAA5C,EAAmD;AAC/C,iBAAOd,IAAI,CAACc,MAAL,KAAgBrB,MAAM,CAACI,OAAP,CAAeiB,MAAtC;AACH;;AACD,eAAOd,IAAP;AACH,OAXmB,CAApB;AAYA,aAAO;AAACV,QAAAA,QAAQ,EAAEsB;AAAX,OAAP;;AACJ;AAAS,aAAOpB,KAAP;AApCb;AAsCH,CAxCD;;AA0CA,eAAeD,WAAf","sourcesContent":["// import { filterMusic } from \"../Actions\"\r\nimport allMusic from \"../Components/AllMusic\"\r\n\r\nconst songReducer = (state=allMusic, action) => {\r\n    let prevSongs = {allMusic: []}\r\n    switch(action.type){\r\n        case 'ADDMUSIC':\r\n            return {allMusic: [...state.allMusic].concat(action.payload)}\r\n        case 'DELETEMUSIC':\r\n            const filteredSongs = state.allMusic.filter((item, index) => index !== action.payload)\r\n            return {allMusic: filteredSongs}\r\n        case 'SORTMUSIC':\r\n            let sortedSongs = state.allMusic.sort((item1, item2) => {\r\n            if (item1[action.payload.fieldName].toLowerCase()>item2[action.payload.fieldName].toLowerCase()){\r\n                return 1\r\n            }\r\n            if (item1.song<item2.song){\r\n                return -1\r\n            }\r\n            else return 0\r\n            })\r\n            action.payload.reverse && sortedSongs.reverse()\r\n            return {allMusic: sortedSongs}\r\n        case 'FILTERMUSIC':\r\n            if (prevSongs.allMusic.length === 0){\r\n                prevSongs = state\r\n            }\r\n            let filterTempSongs = [...prevSongs.allMusic]\r\n            const filterMusic = filterTempSongs.filter(item => {\r\n                if (action.payload.genre && action.payload.rating){\r\n                    return item.genre === action.payload.genre && item.rating === action.payload.rating\r\n                }\r\n                if (action.payload.genre && !action.payload.rating){\r\n                    return item.genre === action.payload.genre\r\n                }\r\n                if (!action.payload.genre && action.payload.rating){\r\n                    return item.rating === action.payload.rating\r\n                }\r\n                return item\r\n            })\r\n            return {allMusic: filterMusic}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default songReducer;"]},"metadata":{},"sourceType":"module"}